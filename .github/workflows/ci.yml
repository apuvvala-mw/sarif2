name: Run Specified Task in Build File
on: [push]
jobs:
  my-job:
    name: Run MATLAB Build
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository
        uses: actions/checkout@v4
      - name: Set up MATLAB
        uses: matlab-actions/setup-matlab@v2
      - name: Run build
        uses: matlab-actions/run-build@v2
        with:
          tasks: check
      - name: Upload SARIF artifact
        uses: actions/upload-artifact@v3
        with:
          name: issues.sarif
          path: ./build
      - name: Upload SARIF file for scanning
        uses: github/codeql-action/upload-sarif@v3
        with:
          sarif_file: issues.sarif          
